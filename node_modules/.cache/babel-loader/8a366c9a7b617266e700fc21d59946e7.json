{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/Desktop/HTML/quran_project_2/quran/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{lazy,Suspense,useEffect,useState}from'react';import'./App.css';import'bootstrap/dist/css/bootstrap.min.css';import{Route,Switch}from'react-router-dom';import Layout from'../components/layout/layout';import Loading from'../components/Loader/loader';import{connect}from'react-redux';import axios from'../axiosBase/createAxios';import withErrorHandler from'../hoc/withErrorHandler/withErrorHandler';import*as favoriteActions from'../store/action/favoriteActions';import*as themeActions from'../store/action/themeActions';import*as languageActions from'../store/action/langaueActions';import*as authActions from'../store/action/authActions';import{auth}from'../firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AsyncMain=/*#__PURE__*/lazy(function(){return import('../containers/Home');});var AsyncImamPage=/*#__PURE__*/lazy(function(){return import('../components/imamPage/ImamPage');});var AsyncFavorite=/*#__PURE__*/lazy(function(){return import('../containers/Favorite/index');});var AsyncRadios=/*#__PURE__*/lazy(function(){return import('../containers/Radios/index');});var AsyncPAGENotFound=/*#__PURE__*/lazy(function(){return import('../containers/404_page/404_page');});var AsyncLogin=/*#__PURE__*/lazy(function(){return import('../containers/auth/logIn/login');});var AsyncSignUp=/*#__PURE__*/lazy(function(){return import('../containers/auth/signUp/signup');});var App=function App(_ref){var language=_ref.language,siteLanguage=_ref.siteLanguage,playlistStorageFunc=_ref.playlistStorageFunc,toggleTheme=_ref.toggleTheme,changeLanguage=_ref.changeLanguage,playlist=_ref.playlist,login=_ref.login;var playlistStorage=useState(JSON.parse(localStorage.getItem('playlist'))||[])[0];var themeStorageValue=useState(JSON.parse(localStorage.getItem('isThemeIsDark'))||false)[0];var storageLangauage=useState(JSON.parse(localStorage.getItem('language'))||'en')[0];useEffect(function(){var unsubscribe=auth.onAuthStateChanged(function(user){if(user){login({name:user.displayName!==null?user.displayName:language.lang==='ar'?'البطل':'unKnown',photo:user.photoURL});}});return unsubscribe;},[]);useEffect(function(){var isCurrent=true;var api=function api(){axios.get(\"translations?languages=\".concat(language.lang)).then(function(res){if(isCurrent){siteLanguage(res.data[language.lang]);}}).catch(function(error){if(isCurrent){return error;}});};api();return function(){isCurrent=false;};},[language]);useEffect(function(){if(playlistStorage){playlistStorageFunc(playlistStorage);}if(themeStorageValue){toggleTheme(themeStorageValue);}changeLanguage(storageLangauage);document.getElementsByTagName('html')[0].setAttribute('lang',storageLangauage);if(['ar','ur','ug','fa'].includes(storageLangauage)){document.getElementsByTagName('html')[0].setAttribute('dir','rtl');}else{document.getElementsByTagName('html')[0].setAttribute('dir','ltr');}},[storageLangauage]);useEffect(function(){localStorage.setItem('playlist',JSON.stringify(playlist));},[playlist]);var routes=/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",render:function render(props){return/*#__PURE__*/_jsx(AsyncMain,_objectSpread({},props));},exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/reciter/:immam_Name\",render:function render(props){return/*#__PURE__*/_jsx(AsyncImamPage,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/favorite\",render:function render(props){return/*#__PURE__*/_jsx(AsyncFavorite,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/radios\",render:function render(props){return/*#__PURE__*/_jsx(AsyncRadios,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/radios\",render:function render(props){return/*#__PURE__*/_jsx(AsyncRadios,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/login\",render:function render(props){return/*#__PURE__*/_jsx(AsyncLogin,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",render:function render(props){return/*#__PURE__*/_jsx(AsyncSignUp,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{render:function render(props){return/*#__PURE__*/_jsx(AsyncPAGENotFound,_objectSpread({},props));}})]});return siteLanguage?/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loading,{}),children:routes})})}):null;};var mapStateToProps=function mapStateToProps(state){return{playlist:state.fav.playlist,language:state.lang.language,siteLanguage:state.lang.site_language};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{playlistStorageFunc:function playlistStorageFunc(items){return dispatch(favoriteActions.playlistStorage(items));},toggleTheme:function toggleTheme(items){return dispatch(themeActions.toggleTheme(items));},siteLanguage:function siteLanguage(lang){return dispatch(languageActions.siteLanguage(lang));},changeLanguage:function changeLanguage(lang){return dispatch(languageActions.changeLanguage(lang));},login:function login(data){return dispatch(authActions.login(data));}};};export default connect(mapStateToProps,mapDispatchToProps)(withErrorHandler(App,axios));","map":{"version":3,"sources":["C:/Users/USER/Desktop/HTML/quran_project_2/quran/src/App/App.js"],"names":["React","lazy","Suspense","useEffect","useState","Route","Switch","Layout","Loading","connect","axios","withErrorHandler","favoriteActions","themeActions","languageActions","authActions","auth","AsyncMain","AsyncImamPage","AsyncFavorite","AsyncRadios","AsyncPAGENotFound","AsyncLogin","AsyncSignUp","App","language","siteLanguage","playlistStorageFunc","toggleTheme","changeLanguage","playlist","login","playlistStorage","JSON","parse","localStorage","getItem","themeStorageValue","storageLangauage","unsubscribe","onAuthStateChanged","user","name","displayName","lang","photo","photoURL","isCurrent","api","get","then","res","data","catch","error","document","getElementsByTagName","setAttribute","includes","setItem","stringify","routes","props","mapStateToProps","state","fav","site_language","mapDispatchToProps","dispatch","items"],"mappings":"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","sourcesContent":["import React, { lazy, Suspense, useEffect, useState } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Route, Switch } from 'react-router-dom';\nimport Layout from '../components/layout/layout';\nimport Loading from '../components/Loader/loader';\nimport {connect} from 'react-redux';\nimport axios from '../axiosBase/createAxios';\nimport withErrorHandler from '../hoc/withErrorHandler/withErrorHandler';\nimport * as favoriteActions from '../store/action/favoriteActions';\nimport * as themeActions from '../store/action/themeActions';\nimport * as languageActions from '../store/action/langaueActions';\nimport * as authActions from '../store/action/authActions';\nimport { auth } from '../firebase';\n\nconst AsyncMain = lazy(() => import('../containers/Home'));\nconst AsyncImamPage = lazy(() => import('../components/imamPage/ImamPage'));\nconst AsyncFavorite = lazy(() => import('../containers/Favorite/index'));\nconst AsyncRadios = lazy(() => import('../containers/Radios/index'));\nconst AsyncPAGENotFound = lazy(() => import('../containers/404_page/404_page'));\nconst AsyncLogin = lazy(() => import('../containers/auth/logIn/login'));\nconst AsyncSignUp = lazy(() => import('../containers/auth/signUp/signup'));\n\nconst App = ({ language, siteLanguage, playlistStorageFunc, toggleTheme, changeLanguage, playlist, login}) => {\n  \n  const playlistStorage = useState(JSON.parse(localStorage.getItem('playlist')) || [])[0];\n  const themeStorageValue = useState(JSON.parse(localStorage.getItem('isThemeIsDark')) || false)[0];\n  const storageLangauage = useState(JSON.parse(localStorage.getItem('language')) || 'en')[0];\n  \n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      if(user) {\n        login({\n          name: user.displayName !== null ? user.displayName : language.lang === 'ar'? 'البطل' : 'unKnown',\n          photo: user.photoURL\n        })\n      }\n    })\n\n    return unsubscribe;\n\n  }, []);\n\n  useEffect(() => {\n    let isCurrent = true;\n    const api = () => {\n      axios.get(`translations?languages=${language.lang}`)\n      .then(res => {\n        if (isCurrent) {\n          siteLanguage(res.data[language.lang]);\n        }\n      })\n      .catch(error => {\n        if (isCurrent) {\n          return error\n        }\n      });\n    }\n\n    api();\n    return () => {\n      isCurrent = false;\n    }\n\n  }, [language]);\n  \n  useEffect(() => {\n    if(playlistStorage) {\n      playlistStorageFunc(playlistStorage);\n    }\n    if(themeStorageValue) {\n      toggleTheme(themeStorageValue);\n    }\n    \n      changeLanguage(storageLangauage);\n    \n    document.getElementsByTagName('html')[0].setAttribute('lang', storageLangauage);\n    \n    if(['ar', 'ur', 'ug', 'fa'].includes(storageLangauage)) {\n      document.getElementsByTagName('html')[0].setAttribute('dir', 'rtl');\n    } else {\n      document.getElementsByTagName('html')[0].setAttribute('dir', 'ltr');\n    }\n  }, [storageLangauage]);\n\n  useEffect(() => {\n    localStorage.setItem('playlist', JSON.stringify(playlist));\n  }, [playlist]);\n  \n  let routes = (\n    <Switch>\n      <Route path='/' render={props => <AsyncMain {...props} />} exact />\n      <Route path='/reciter/:immam_Name' render={props => <AsyncImamPage {...props} />} />\n      <Route path='/favorite'  render={props => <AsyncFavorite {...props} />} />\n      <Route path='/radios' render={props => <AsyncRadios {...props} />} />\n      <Route path='/radios' render={props => <AsyncRadios {...props} />} />\n      <Route path='/login' render={props => <AsyncLogin {...props} />} />\n      <Route path='/signup' render={props => <AsyncSignUp {...props} />} />\n      <Route render={props => <AsyncPAGENotFound {...props} />} />\n    </Switch>\n  );\n\n  return siteLanguage ? (\n    <div className=\"App\">\n      <Layout>\n        <Suspense fallback={<Loading />}>{routes}</Suspense>\n      </Layout>\n    </div>\n  ) : null;\n};\n\nconst mapStateToProps = state => ({\n  playlist: state.fav.playlist,\n  language: state.lang.language,\n  siteLanguage: state.lang.site_language\n});\n\nconst mapDispatchToProps = dispatch => ({\n  playlistStorageFunc: (items) => dispatch(favoriteActions.playlistStorage(items)),\n  toggleTheme: (items) => dispatch(themeActions.toggleTheme(items)),\n  siteLanguage: (lang) => dispatch(languageActions.siteLanguage(lang)),\n  changeLanguage: (lang) => dispatch(languageActions.changeLanguage(lang)),\n  login: (data) => dispatch(authActions.login(data))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(App, axios));"]},"metadata":{},"sourceType":"module"}