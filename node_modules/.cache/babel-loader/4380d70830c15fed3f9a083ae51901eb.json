{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\HTML\\\\quran_project_2\\\\quran\\\\src\\\\containers\\\\Home\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Letter from '../../components/letters/letters';\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\nimport axios from 'axios';\nimport ImamBoxs from '../../components/imamBoxs/imamBoxs';\nimport { HomeStyled } from './homeStyled';\nimport * as actions from '../../store/action/getData';\nimport { connect } from 'react-redux';\nimport Loader from '../../components/UI/Loader/loader';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = props => {\n  _s();\n\n  const [allElements, setAllElements] = useState([]);\n  const [search, setSearch] = useState('');\n  const [rewayas, setRewayas] = useState([]);\n  const [chooseSelect, setChooseSelect] = useState('select rewaya');\n  const [allSections, setAllSections] = useState([]);\n  useEffect(() => {\n    props.isFavoritePage(false);\n    props.isRadioPage(false);\n    let isMounted = true;\n    const source = axios.CancelToken.source();\n\n    const myAPI = async () => {\n      props.startMain();\n      props.emptyFavFromSurabox();\n      await axios.get(`http://mp3quran.net/api/${props.language.language}`, {\n        cancelToken: source.token\n      }).then(res => {\n        if (isMounted) {\n          const arrayOfLetters = [];\n          const allElementsArrays = [];\n          const arrayOfLettersIndex = [];\n          let allRewayas = [];\n          const allArraysElements = res.data.reciters;\n          const myData = allArraysElements.map(letter => letter.letter);\n          myData.filter((element, index) => element !== myData[index + 1] && arrayOfLetters.push(element));\n          myData.filter((element, index) => element !== myData[index + 1] && arrayOfLettersIndex.push(index));\n          allArraysElements.map(element => allElementsArrays.push(element));\n          setAllElements(allArraysElements);\n          allArraysElements.map(e => {\n            if (!allRewayas.find(z => z === e.rewaya)) {\n              allRewayas.push(e.rewaya);\n            }\n          });\n          setRewayas(allRewayas);\n          props.successMain(arrayOfLetters, arrayOfLettersIndex, allElementsArrays);\n        }\n      }).catch(error => {\n        if (isMounted) {\n          return props.failRequest(error);\n        }\n      });\n    };\n\n    myAPI();\n    return () => {\n      isMounted = false;\n      source.cancel();\n    };\n  }, [props.language]); // console.log(props);\n\n  let curentIndex = 0;\n  useEffect(() => {\n    let fullElementSections = [];\n\n    if (props.letters && props.allElementsImams && props.lettersIndex) {\n      for (let i = 0; i < props.letters.length; i++) {\n        let speElement = props.allElementsImams.slice(curentIndex, props.lettersIndex[i] + 1);\n        curentIndex = props.lettersIndex[i] + 1;\n        fullElementSections.push({\n          letterSection: props.letters[i],\n          sectionElements: speElement\n        });\n      }\n    }\n\n    setAllSections(fullElementSections);\n  }, [props.letters, props.allElementsImams, props.lettersIndex]);\n\n  const clickedImamm = link => {\n    props.getData && props.imamName(props.getData.name);\n    props.getDataFunc(link);\n    props.getServer(link.Server);\n  };\n\n  let show = /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 16\n  }, this);\n\n  if (!props.loading) {\n    show = props.allElementsImams && /*#__PURE__*/_jsxDEV(HomeStyled, {\n      theme: props.theme,\n      themeStyle: props.themeStyle,\n      site_lang: props.language.lang,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-content-show\",\n        children: props.letters && props.letters.map(letter => /*#__PURE__*/_jsxDEV(Letter, {\n          text: letter,\n          id: `#letter_${letter}`\n        }, `${letter}${Math.random() * 1000000}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 67\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search_select mt-4 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            lg: \"7\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-search mb-3 mb-lg-0\",\n              children: /*#__PURE__*/_jsxDEV(Form, {\n                children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  placeholder: `${props.site_language && props.site_language.search} ${props.site_language && props.site_language.reciter}`,\n                  className: \"rounded-pill search-filed\",\n                  onChange: e => setSearch(e.target.value),\n                  dir: \"auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-select\",\n              children: /*#__PURE__*/_jsxDEV(Form, {\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"exampleForm.SelectCustom\",\n                  children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"select\",\n                    custom: true,\n                    className: \"select\",\n                    value: chooseSelect,\n                    onChange: e => setChooseSelect(e.target.value),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"select rewaya\",\n                      disabled: \"disabled\",\n                      children: `${props.site_language && props.site_language.options} ${props.site_language && props.site_language.reciters}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"all\",\n                      children: props.language.lang === 'ar' ? 'الكل' : 'all'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 41\n                    }, this), rewayas.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: option,\n                      children: option\n                    }, option, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 64\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"show-all-names\",\n        children: allElements && allElements.length > 0 && allSections.map((element, index) => {\n          return /*#__PURE__*/_jsxDEV(ImamBoxs, {\n            letter: element.letterSection,\n            boxes: element.sectionElements,\n            search: search,\n            chooseSelect: chooseSelect,\n            myIndex: index,\n            clickedImamm: data => clickedImamm(data)\n          }, `${element.letterSection} ${element.letterSection} ${Math.random() * 1000000}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this);\n  }\n\n  return show;\n};\n\n_s(Main, \"MN9ZGklIWYzkLlP3Ga/lFb1TgNE=\");\n\n_c = Main;\n\nconst mapStateToProps = state => ({\n  getData: state.getData,\n  loading: state.loading,\n  letters: state.letters,\n  lettersIndex: state.lettersIndex,\n  allElementsImams: state.allElementsImams,\n  theme: state.theme,\n  themeStyle: state.themeStyle,\n  language: state.language,\n  site_language: state.site_language\n});\n\nconst mapDispatchToProps = dispatch => ({\n  startMain: () => dispatch(actions.startMain()),\n  successMain: (letters, lettersIndex, allEllemnt) => dispatch(actions.successMain(letters, lettersIndex, allEllemnt)),\n  failRequest: () => dispatch(actions.failRequest()),\n  emptyFavFromSurabox: () => dispatch(actions.emptyFavFromSurabox()),\n  getDataFunc: data => dispatch(actions.getData(data)),\n  getServer: server => dispatch(actions.getServer(server)),\n  imamName: name => dispatch(actions.getImamNameBeforeUpdate(name)),\n  isFavoritePage: value => dispatch(actions.isFavoritePage(value)),\n  isRadioPage: value => dispatch(actions.isRadioPage(value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(Main, axios));\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["C:/Users/USER/Desktop/HTML/quran_project_2/quran/src/containers/Home/index.js"],"names":["React","useEffect","useState","Letter","withErrorHandler","axios","ImamBoxs","HomeStyled","actions","connect","Loader","Form","Row","Col","Main","props","allElements","setAllElements","search","setSearch","rewayas","setRewayas","chooseSelect","setChooseSelect","allSections","setAllSections","isFavoritePage","isRadioPage","isMounted","source","CancelToken","myAPI","startMain","emptyFavFromSurabox","get","language","cancelToken","token","then","res","arrayOfLetters","allElementsArrays","arrayOfLettersIndex","allRewayas","allArraysElements","data","reciters","myData","map","letter","filter","element","index","push","e","find","z","rewaya","successMain","catch","error","failRequest","cancel","curentIndex","fullElementSections","letters","allElementsImams","lettersIndex","i","length","speElement","slice","letterSection","sectionElements","clickedImamm","link","getData","imamName","name","getDataFunc","getServer","Server","show","loading","theme","themeStyle","lang","Math","random","site_language","reciter","target","value","options","option","mapStateToProps","state","mapDispatchToProps","dispatch","allEllemnt","server","getImamNameBeforeUpdate"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Letter from '../../components/letters/letters';\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport axios from 'axios';\r\nimport ImamBoxs from '../../components/imamBoxs/imamBoxs';\r\nimport { HomeStyled } from './homeStyled';\r\nimport * as actions from '../../store/action/getData';\r\nimport { connect } from 'react-redux';\r\nimport Loader from '../../components/UI/Loader/loader';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nconst Main = props => {\r\n    const [allElements, setAllElements] = useState([]);\r\n    const [search, setSearch] = useState('');\r\n    const [rewayas, setRewayas] = useState([]);\r\n    const [chooseSelect, setChooseSelect] = useState('select rewaya');\r\n    const [allSections, setAllSections] = useState([]);\r\n\r\n    useEffect(() => {\r\n        props.isFavoritePage(false);\r\n        props.isRadioPage(false);\r\n        let isMounted = true;\r\n        const source = axios.CancelToken.source();\r\n        \r\n        const myAPI = async () => {\r\n            props.startMain();\r\n            props.emptyFavFromSurabox();\r\n            await axios.get(`http://mp3quran.net/api/${props.language.language}`, {\r\n                cancelToken: source.token\r\n            })\r\n            .then(res => {\r\n                if(isMounted) {\r\n                    const arrayOfLetters = [];\r\n                    const allElementsArrays = [];\r\n                    const arrayOfLettersIndex = [];\r\n                    let allRewayas = [];\r\n                    const allArraysElements = res.data.reciters;\r\n                    const myData = allArraysElements.map(letter => letter.letter);\r\n                    myData.filter((element, index) => element !== myData[index + 1] && arrayOfLetters.push(element));\r\n                    myData.filter((element, index) => element !== myData[index + 1] && arrayOfLettersIndex.push(index));\r\n                    allArraysElements.map(element => allElementsArrays.push(element));\r\n                    setAllElements(allArraysElements);\r\n                    allArraysElements.map(e => {\r\n                        if(!allRewayas.find(z => z === e.rewaya)) {\r\n                            allRewayas.push(e.rewaya);\r\n                        }\r\n                    });\r\n                    setRewayas(allRewayas);\r\n                    props.successMain(arrayOfLetters, arrayOfLettersIndex, allElementsArrays);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                if(isMounted) {\r\n                    return props.failRequest(error)\r\n                }\r\n            });\r\n        };\r\n        myAPI();\r\n\r\n        return () => {\r\n            isMounted = false;\r\n            source.cancel();\r\n        }\r\n    }, [props.language]);\r\n\r\n    // console.log(props);\r\n\r\n    let curentIndex = 0;\r\n    useEffect(() => {\r\n        let fullElementSections = [];\r\n        if(props.letters && props.allElementsImams && props.lettersIndex) {\r\n            for(let i = 0; i < props.letters.length; i++) {\r\n                let speElement = props.allElementsImams.slice(curentIndex , props.lettersIndex[i] + 1);\r\n                curentIndex= props.lettersIndex[i] + 1;\r\n                fullElementSections.push({\r\n                    letterSection: props.letters[i],\r\n                    sectionElements: speElement\r\n                });\r\n            }\r\n        }\r\n        setAllSections(fullElementSections);\r\n    }, [props.letters, props.allElementsImams, props.lettersIndex]);\r\n\r\n    const clickedImamm = link => {\r\n        props.getData && props.imamName(props.getData.name);\r\n        props.getDataFunc(link);\r\n        props.getServer(link.Server);\r\n    };\r\n\r\n    let show = <Loader />;\r\n\r\n    if(!props.loading) {\r\n        show = props.allElementsImams && (\r\n            <HomeStyled theme={props.theme} themeStyle={props.themeStyle} site_lang={props.language.lang}>\r\n                <div className='main-content-show'>\r\n                    {props.letters && props.letters.map(letter => <Letter text={letter} id={`#letter_${letter}`} key={`${letter}${Math.random() * 1000000}`} />) }\r\n                </div>\r\n                <div className='search_select mt-4 mb-4'>\r\n                    <Row>\r\n                        <Col lg='7'>\r\n                            <div className='form-search mb-3 mb-lg-0'>\r\n                                <Form>\r\n                                    <Form.Control type='text' placeholder={`${props.site_language && props.site_language.search} ${props.site_language && props.site_language.reciter}`} className='rounded-pill search-filed' onChange={e => setSearch(e.target.value)} dir='auto' />\r\n                                </Form>\r\n                            </div>\r\n                        </Col>\r\n                        <Col lg='5'>\r\n                            <div className='form-select'>\r\n                                <Form>\r\n                                    <Form.Group controlId=\"exampleForm.SelectCustom\">\r\n                                        <Form.Control as=\"select\" custom className='select' value={chooseSelect} onChange={e => setChooseSelect(e.target.value)}>\r\n                                        <option value='select rewaya' disabled='disabled'>{`${props.site_language && props.site_language.options} ${props.site_language && props.site_language.reciters}`}</option>\r\n                                        <option value='all'>{props.language.lang === 'ar' ? 'الكل' : 'all'}</option>\r\n                                        {rewayas.map(option => <option key={option} value={option}>{option}</option>)}\r\n                                        </Form.Control>\r\n                                    </Form.Group>\r\n                                </Form>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                <div className='show-all-names'>\r\n                    {\r\n                        allElements && allElements.length > 0 && allSections.map((element, index) => {\r\n                            return (\r\n                                <ImamBoxs\r\n                                    key={`${element.letterSection} ${element.letterSection} ${Math.random() * 1000000}`}\r\n                                    letter={element.letterSection}\r\n                                    boxes={element.sectionElements}\r\n                                    search={search}\r\n                                    chooseSelect={chooseSelect}\r\n                                    myIndex={index}\r\n                                    clickedImamm={(data) => clickedImamm(data)}\r\n                                />\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </HomeStyled>\r\n        )\r\n    }\r\n    return show;\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    getData: state.getData,\r\n    loading: state.loading,\r\n    letters: state.letters,\r\n    lettersIndex: state.lettersIndex,\r\n    allElementsImams: state.allElementsImams,\r\n    theme: state.theme,\r\n    themeStyle: state.themeStyle,\r\n    language: state.language,\r\n    site_language: state.site_language\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    startMain: () => dispatch(actions.startMain()),\r\n    successMain: (letters, lettersIndex, allEllemnt) => dispatch(actions.successMain(letters, lettersIndex, allEllemnt)),\r\n    failRequest: () => dispatch(actions.failRequest()),\r\n    emptyFavFromSurabox: () => dispatch(actions.emptyFavFromSurabox()),\r\n\r\n    getDataFunc: (data) => dispatch(actions.getData(data)),\r\n    getServer: (server) => dispatch(actions.getServer(server)),\r\n    imamName: (name) => dispatch(actions.getImamNameBeforeUpdate(name)),\r\n\r\n    isFavoritePage: (value) => dispatch(actions.isFavoritePage(value)),\r\n    isRadioPage: (value) => dispatch(actions.isRadioPage(value))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(Main, axios));"]},"metadata":{},"sourceType":"module"}