{"ast":null,"code":"import _slicedToArray from\"C:/Users/USER/Desktop/HTML/quran_project_2/quran/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{PlayerContent}from'./audioPlayerStyled';import{AiOutlineClose}from'react-icons/ai';import{FaRandom}from'react-icons/fa';import{CgTrashEmpty}from'react-icons/cg';import{AiFillHeart}from'react-icons/ai';import{BsArrowRight}from'react-icons/bs';import Container from'react-bootstrap/Container';import{connect}from'react-redux';import AudioFavoriteList from'./AudioFavoriteList/audioFavoriteList';import AudioPlayer from'react-h5-audio-player';import'react-h5-audio-player/lib/styles.css';import*as favoriteActions from'../../store/action/favoriteActions';import*as settingActions from'../../store/action/settingActions';import*as getDataActions from'../../store/action/getDataActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SongPlayer=function SongPlayer(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showfavPlaylist=_useState2[0],setShowfavPlaylist=_useState2[1];var favPlaylistclasses=showfavPlaylist?['playlist_list','show']:['playlist_list'];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),autoPlayAudio=_useState4[0],setAutoPlayAudio=_useState4[1];var randomChoice=function randomChoice(){if(props.isRandom){var getRandom=Math.floor(Math.random()*props.suras.length).toString();var num=props.suras[getRandom].length===1?\"00\".concat(props.suras[getRandom]):props.suras[getRandom].length===2?\"0\".concat(props.suras[getRandom]):props.suras[getRandom];props.suraLinkRandom(num);props.isFromFavouritePlaylist(false);}};var deleteItems=function deleteItems(item){props.deleteFavFromSurabox(item.server);props.deleteItemFromPlaylist(item);};var clickedPlaylist=function clickedPlaylist(link){props.isFavoritePageFunc(true);props.suraLinkFunc(link);props.showPlayer();props.isFromFavouritePlaylist(true);};return/*#__PURE__*/_jsxs(PlayerContent,{suras:props.suras,theme:props.theme,themeStyle:props.themeStyle,isFavPlaylist:props.isFavPlaylist,showfavPlaylist:showfavPlaylist,autoPlayAudio:autoPlayAudio,isFavoritePage:props.isFavoritePage,children:[!props.isFavPlaylist&&!props.isFavoritePage&&/*#__PURE__*/_jsx(\"div\",{className:\"random\",onClick:randomChoice,title:props.language.lang==='ar'?'عشوائي':'Random',children:/*#__PURE__*/_jsx(FaRandom,{size:22})}),!props.isFavoritePage&&/*#__PURE__*/_jsx(\"div\",{className:\"favorite_box d-none d-sm-block\",title:props.site_language.favorite,children:/*#__PURE__*/_jsx(AiFillHeart,{size:24,onClick:function onClick(){return setShowfavPlaylist(!showfavPlaylist);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"autoPlay_box\",title:props.site_language.autoplay_next_surahs,children:!props.isRadioPage&&/*#__PURE__*/_jsx(BsArrowRight,{size:30,onClick:function onClick(){return setAutoPlayAudio(function(autoPlayAudio){return!autoPlayAudio;});}})}),/*#__PURE__*/_jsx(AudioPlayer,{autoPlay:true,src:props.suraLink,onEnded:function onEnded(e){if(autoPlayAudio){if(!props.isFavoritePage){var regex=/\\d+/g;var string=props.suraLink;var matches=+string.match(regex)[2];var number=null;props.suras.map(function(element,index){if(+element===matches){return number=index+1;}return null;});if(props.suras[number]!==undefined){var numberString=props.suras[number].length===1?\"00\".concat(props.suras[number]):props.suras[number].length===2?\"0\".concat(props.suras[number]):props.suras[number];props.suraLinkFunc(\"\".concat(props.server,\"/\").concat(numberString,\".mp3\"));}}else{props.playlist.map(function(element,index){if(props.suraLink===element.server){if(props.playlist.length-1!==index){return props.suraLinkFunc(props.playlist[index+1].server);}}return null;});}}}}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(\"div\",{className:\"playlist_items d-none d-sm-block\",children:/*#__PURE__*/_jsxs(\"div\",{className:favPlaylistclasses.join(' '),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header d-flex\",children:[/*#__PURE__*/_jsx(AiOutlineClose,{size:20,onClick:function onClick(){props.isFavoritePageFunc(false);setShowfavPlaylist(!showfavPlaylist);}}),/*#__PURE__*/_jsx(\"h5\",{className:\"m-auto\",children:props.site_language.favorite})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-unstyled sura_list\",children:props.playlist&&props.playlist.length>0?props.playlist.map(function(e,i){return/*#__PURE__*/_jsx(AudioFavoriteList,{server:e.server,number:e.number,name:e.name,rewaya:e.rewaya,index:i,suraName:e.suraName,deleteItem:function deleteItem(item){return deleteItems(item);},clicked:function clicked(link,number,suraName,name){return clickedPlaylist(link,number,suraName);}},e.server);}):/*#__PURE__*/_jsxs(\"div\",{className:\"no_list text-center text-capitalize\",children:[props.site_language.no_playlist_added,\" \",/*#__PURE__*/_jsx(CgTrashEmpty,{size:26})]})})]})})})]});};var mapStateToProps=function mapStateToProps(state){return{suraLink:state.getData.suraLink,suras:state.getData.suras,server:state.getData.server,isRandom:state.getData.isRandom,playlist:state.fav.playlist,isFavoritePage:state.fav.isFavoritePage,isFavPlaylist:state.fav.isFavPlaylist,theme:state.theme.theme,themeStyle:state.theme.themeStyle,language:state.lang.language,site_language:state.lang.site_language,isRadioPage:state.getData.isRadioPage};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{suraLinkRandom:function suraLinkRandom(data){return dispatch(getDataActions.suraLinkRandom(data));},deleteItemFromPlaylist:function deleteItemFromPlaylist(item){return dispatch(favoriteActions.removeItemFromPlayList(item));},deleteFavFromSurabox:function deleteFavFromSurabox(item){return dispatch(favoriteActions.deleteFavFromSurabox(item));},showPlayer:function showPlayer(){return dispatch(settingActions.showPlayer());},suraLinkFunc:function suraLinkFunc(link){return dispatch(getDataActions.suraLink(link));},isFromFavouritePlaylist:function isFromFavouritePlaylist(bool){return dispatch(favoriteActions.isFromFavouritePlaylist(bool));},isFavoritePageFunc:function isFavoritePageFunc(value){return dispatch(favoriteActions.isFavoritePage(value));}};};export default connect(mapStateToProps,mapDispatchToProps)(SongPlayer);","map":{"version":3,"sources":["C:/Users/USER/Desktop/HTML/quran_project_2/quran/src/components/audioPlayer/audioPlayer.js"],"names":["React","useState","PlayerContent","AiOutlineClose","FaRandom","CgTrashEmpty","AiFillHeart","BsArrowRight","Container","connect","AudioFavoriteList","AudioPlayer","favoriteActions","settingActions","getDataActions","SongPlayer","props","showfavPlaylist","setShowfavPlaylist","favPlaylistclasses","autoPlayAudio","setAutoPlayAudio","randomChoice","isRandom","getRandom","Math","floor","random","suras","length","toString","num","suraLinkRandom","isFromFavouritePlaylist","deleteItems","item","deleteFavFromSurabox","server","deleteItemFromPlaylist","clickedPlaylist","link","isFavoritePageFunc","suraLinkFunc","showPlayer","theme","themeStyle","isFavPlaylist","isFavoritePage","language","lang","site_language","favorite","autoplay_next_surahs","isRadioPage","suraLink","e","regex","string","matches","match","number","map","element","index","undefined","numberString","playlist","join","i","name","rewaya","suraName","no_playlist_added","mapStateToProps","state","getData","fav","mapDispatchToProps","dispatch","data","removeItemFromPlayList","bool","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { PlayerContent } from './audioPlayerStyled';\r\nimport { AiOutlineClose } from 'react-icons/ai';\r\nimport { FaRandom } from 'react-icons/fa';\r\nimport { CgTrashEmpty } from 'react-icons/cg';\r\nimport { AiFillHeart } from 'react-icons/ai';\r\nimport { BsArrowRight } from 'react-icons/bs';\r\nimport Container from 'react-bootstrap/Container';\r\nimport { connect } from 'react-redux';\r\nimport AudioFavoriteList from './AudioFavoriteList/audioFavoriteList';\r\nimport AudioPlayer from 'react-h5-audio-player';\r\nimport 'react-h5-audio-player/lib/styles.css';\r\nimport * as favoriteActions from '../../store/action/favoriteActions';\r\nimport * as settingActions from '../../store/action/settingActions';\r\nimport * as getDataActions from '../../store/action/getDataActions';\r\n\r\nconst SongPlayer = props => {\r\n    const [showfavPlaylist, setShowfavPlaylist] = useState(false);\r\n    const favPlaylistclasses = showfavPlaylist ? ['playlist_list', 'show'] : ['playlist_list'];\r\n    const [autoPlayAudio, setAutoPlayAudio] = useState(false);\r\n\r\n    const randomChoice = () => {\r\n        if(props.isRandom) {\r\n            const getRandom = Math.floor(Math.random() * props.suras.length).toString()\r\n            const num = props.suras[getRandom].length === 1 ? `00${props.suras[getRandom]}` : props.suras[getRandom].length === 2 ? `0${props.suras[getRandom]}` : props.suras[getRandom];\r\n            props.suraLinkRandom(num);\r\n            props.isFromFavouritePlaylist(false);\r\n        }\r\n    }\r\n\r\n    const deleteItems = (item) => {\r\n        props.deleteFavFromSurabox(item.server);\r\n        props.deleteItemFromPlaylist(item);\r\n    }\r\n\r\n    const clickedPlaylist = (link) => {\r\n        props.isFavoritePageFunc(true);\r\n        props.suraLinkFunc(link);\r\n        props.showPlayer();\r\n        props.isFromFavouritePlaylist(true);\r\n    }\r\n\r\n    return (\r\n        <PlayerContent suras={props.suras} theme={props.theme} themeStyle={props.themeStyle} isFavPlaylist={props.isFavPlaylist} showfavPlaylist={showfavPlaylist} autoPlayAudio={autoPlayAudio} isFavoritePage={props.isFavoritePage} >\r\n            {!props.isFavPlaylist && !props.isFavoritePage && (\r\n                <div className='random' onClick={randomChoice} title={props.language.lang === 'ar' ? 'عشوائي' : 'Random'}>\r\n                    <FaRandom size={22} />\r\n                </div>\r\n            )}\r\n            {!props.isFavoritePage && (\r\n                <div className='favorite_box d-none d-sm-block' title={props.site_language.favorite}>\r\n                    <AiFillHeart size={24}  onClick={() => setShowfavPlaylist(!showfavPlaylist)} />\r\n                </div>\r\n            )}\r\n            <div className='autoPlay_box' title={props.site_language.autoplay_next_surahs}>\r\n                {!props.isRadioPage && <BsArrowRight size={30}  onClick={() => setAutoPlayAudio(autoPlayAudio => !autoPlayAudio)}/>}\r\n            </div>\r\n            <AudioPlayer \r\n                autoPlay\r\n                src={props.suraLink}\r\n                onEnded={e => {\r\n                    if(autoPlayAudio) {\r\n\r\n                        if(!props.isFavoritePage) {\r\n                        \r\n                            let regex = /\\d+/g;\r\n                            let string = props.suraLink;\r\n                            let matches = +string.match(regex)[2];\r\n                            let number = null;\r\n                        \r\n                            props.suras.map((element, index) => {\r\n                                if(+element === matches) {\r\n                                    return number = index + 1;\r\n                                }\r\n                                return null;\r\n                            })\r\n    \r\n                            if(props.suras[number] !== undefined) {\r\n                                let numberString = props.suras[number].length === 1 ? `00${props.suras[number]}` : props.suras[number].length === 2 ? `0${props.suras[number]}` : props.suras[number];\r\n                                props.suraLinkFunc(`${props.server}/${numberString}.mp3`);\r\n                            }\r\n                        } else {\r\n                            props.playlist.map((element, index) => {\r\n                                if(props.suraLink === element.server) {\r\n                                    if(props.playlist.length -1 !== index) {\r\n                                        return props.suraLinkFunc(props.playlist[index + 1].server);\r\n                                    }\r\n                                }\r\n                                return null;\r\n                            });\r\n                        }\r\n                    }\r\n                }}\r\n            />\r\n            <Container>\r\n                <div className='playlist_items d-none d-sm-block'>\r\n                    <div className={favPlaylistclasses.join(' ')}>\r\n                        <div className='header d-flex'>\r\n                            <AiOutlineClose size={20} onClick={() => {\r\n                                props.isFavoritePageFunc(false);\r\n                                setShowfavPlaylist(!showfavPlaylist);\r\n                            }} />\r\n                            <h5 className='m-auto'>{props.site_language.favorite}</h5>\r\n                        </div>\r\n                        <ul className='list-unstyled sura_list'>\r\n                            {\r\n                                props.playlist && props.playlist.length > 0 \r\n                                ?  props.playlist.map((e, i) => (\r\n                                    <AudioFavoriteList\r\n                                        key={e.server}\r\n                                        server={e.server}\r\n                                        number={e.number}\r\n                                        name={e.name}\r\n                                        rewaya={e.rewaya}\r\n                                        index={i}\r\n                                        suraName={e.suraName}\r\n                                        deleteItem={(item) => deleteItems(item)}\r\n                                        clicked={(link, number, suraName, name) => clickedPlaylist(link, number, suraName)}\r\n                                    />\r\n                                ))\r\n                                : <div className='no_list text-center text-capitalize'>{props.site_language.no_playlist_added} <CgTrashEmpty size={26} /></div>\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n        </PlayerContent>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        suraLink: state.getData.suraLink,\r\n        suras: state.getData.suras,\r\n        server: state.getData.server,\r\n        isRandom: state.getData.isRandom,\r\n        playlist: state.fav.playlist,\r\n        isFavoritePage: state.fav.isFavoritePage,\r\n        isFavPlaylist: state.fav.isFavPlaylist,\r\n        theme: state.theme.theme,\r\n        themeStyle: state.theme.themeStyle,\r\n        language: state.lang.language,\r\n        site_language: state.lang.site_language,\r\n        isRadioPage: state.getData.isRadioPage\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    suraLinkRandom: (data) => dispatch(getDataActions.suraLinkRandom(data)),\r\n    deleteItemFromPlaylist: (item) => dispatch(favoriteActions.removeItemFromPlayList(item)),\r\n    deleteFavFromSurabox: (item) => dispatch(favoriteActions.deleteFavFromSurabox(item)),\r\n    showPlayer: () => dispatch(settingActions.showPlayer()),\r\n    suraLinkFunc: (link) => dispatch(getDataActions.suraLink(link)),\r\n    isFromFavouritePlaylist: (bool) => dispatch(favoriteActions.isFromFavouritePlaylist(bool)),\r\n    isFavoritePageFunc: (value) => dispatch(favoriteActions.isFavoritePage(value))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SongPlayer);"]},"metadata":{},"sourceType":"module"}