{"ast":null,"code":"import _slicedToArray from\"C:/Users/USER/Desktop/HTML/quran_project_2/quran/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Letter from'../../components/letters/letters';import withErrorHandler from'../../hoc/withErrorHandler/withErrorHandler';import axios from'axios';import ImamBoxs from'../../components/imamBoxs/imamBoxs';import{HomeStyled}from'./homeStyled';import{connect}from'react-redux';import Loader from'../../components/Loader/loader';import Form from'react-bootstrap/Form';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import*as favoriteActions from'../../store/action/favoriteActions';import*as radioActions from'../../store/action/radioActions';import*as getDataActions from'../../store/action/getDataActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(_ref){var isFavoritePage=_ref.isFavoritePage,isRadioPage=_ref.isRadioPage,startMain=_ref.startMain,emptyFavFromSurabox=_ref.emptyFavFromSurabox,language=_ref.language,successMain=_ref.successMain,failRequest=_ref.failRequest,letters=_ref.letters,allElementsImams=_ref.allElementsImams,lettersIndex=_ref.lettersIndex,getDataFunc=_ref.getDataFunc,getServer=_ref.getServer,loading=_ref.loading,theme=_ref.theme,themeStyle=_ref.themeStyle,site_language=_ref.site_language;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allElements=_useState2[0],setAllElements=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),rewayas=_useState6[0],setRewayas=_useState6[1];var _useState7=useState('select rewaya'),_useState8=_slicedToArray(_useState7,2),chooseSelect=_useState8[0],setChooseSelect=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),allSections=_useState10[0],setAllSections=_useState10[1];useEffect(function(){var isCurrent=true;var myAPI=function myAPI(){isFavoritePage(false);isRadioPage(false);startMain();emptyFavFromSurabox();axios.get(\"//mp3quran.net/api/\".concat(language.language)).then(function(res){if(isCurrent){var arrayOfLetters=[];var allElementsArrays=[];var arrayOfLettersIndex=[];var allRewayas=[];var allArraysElements=res.data.reciters;var myData=allArraysElements.map(function(letter){return letter.letter;});myData.filter(function(element,index){return element!==myData[index+1]&&arrayOfLetters.push(element);});myData.filter(function(element,index){return element!==myData[index+1]&&arrayOfLettersIndex.push(index);});allArraysElements.map(function(element){return allElementsArrays.push(element);});setAllElements(allArraysElements);allArraysElements.map(function(e){if(!allRewayas.find(function(z){return z===e.rewaya;})){return allRewayas.push(e.rewaya);}return null;});setRewayas(allRewayas);successMain(arrayOfLetters,arrayOfLettersIndex,allElementsArrays);}}).catch(function(error){if(isCurrent){failRequest(error);}});};myAPI();return function(){isCurrent=false;};},[language]);useEffect(function(){var curentIndex=0;var fullElementSections=[];if(letters&&allElementsImams&&lettersIndex){for(var i=0;i<letters.length;i++){var speElement=allElementsImams.slice(curentIndex,lettersIndex[i]+1);curentIndex=lettersIndex[i]+1;fullElementSections.push({letterSection:letters[i],sectionElements:speElement});}}setAllSections(fullElementSections);},[allElementsImams]);var _clickedImamm=function clickedImamm(link){getDataFunc(link);getServer(link.Server);};var show=/*#__PURE__*/_jsx(Loader,{});if(!loading){show=allElementsImams&&/*#__PURE__*/_jsxs(HomeStyled,{theme:theme,themeStyle:themeStyle,site_lang:language.lang,children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-content-show\",children:letters&&letters.map(function(letter){return/*#__PURE__*/_jsx(Letter,{text:letter,id:\"#letter_\".concat(letter)},\"\".concat(letter).concat(Math.random()*1000000));})}),/*#__PURE__*/_jsx(\"div\",{className:\"search_select mt-4 mb-4\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-search mb-3 mb-lg-0\",children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"\".concat(site_language&&site_language.search,\" \").concat(site_language&&site_language.reciter),className:\"rounded-pill search-filed\",onChange:function onChange(e){return setSearch(e.target.value);},dir:\"auto\"})})})}),/*#__PURE__*/_jsx(Col,{lg:\"5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-select\",children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(Form.Group,{controlId:\"exampleForm.SelectCustom\",children:/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",custom:true,className:\"select\",value:chooseSelect,onChange:function onChange(e){return setChooseSelect(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"select rewaya\",disabled:\"disabled\",children:\"\".concat(site_language&&site_language.options,\" \").concat(site_language&&site_language.reciters)}),/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:language.lang==='ar'?'الكل':'all'}),rewayas.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option,children:option},option);})]})})})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"show-all-names\",children:allElements&&allElements.length>0&&allSections.map(function(element,index){return/*#__PURE__*/_jsx(ImamBoxs,{letter:element.letterSection,boxes:element.sectionElements,search:search,chooseSelect:chooseSelect,myIndex:index,clickedImamm:function clickedImamm(data){return _clickedImamm(data);}},\"\".concat(element.letterSection,\" \").concat(element.letterSection,\" \").concat(Math.random()*1000000));})})]});}return show;};var mapStateToProps=function mapStateToProps(state){return{getData:state.getData.getData,loading:state.getData.loading,letters:state.getData.letters,lettersIndex:state.getData.lettersIndex,allElementsImams:state.getData.allElementsImams,theme:state.theme.theme,themeStyle:state.theme.themeStyle,language:state.lang.language,site_language:state.lang.site_language};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{startMain:function startMain(){return dispatch(getDataActions.startMain());},successMain:function successMain(letters,lettersIndex,allEllemnt){return dispatch(getDataActions.successMain(letters,lettersIndex,allEllemnt));},failRequest:function failRequest(){return dispatch(getDataActions.failRequest());},getDataFunc:function getDataFunc(data){return dispatch(getDataActions.getData(data));},getServer:function getServer(server){return dispatch(getDataActions.getServer(server));},emptyFavFromSurabox:function emptyFavFromSurabox(){return dispatch(favoriteActions.emptyFavFromSurabox());},isFavoritePage:function isFavoritePage(value){return dispatch(favoriteActions.isFavoritePage(value));},isRadioPage:function isRadioPage(value){return dispatch(radioActions.isRadioPage(value));}};};export default connect(mapStateToProps,mapDispatchToProps)(withErrorHandler(Main,axios));","map":{"version":3,"sources":["C:/Users/USER/Desktop/HTML/quran_project_2/quran/src/containers/Home/index.js"],"names":["React","useEffect","useState","Letter","withErrorHandler","axios","ImamBoxs","HomeStyled","connect","Loader","Form","Row","Col","favoriteActions","radioActions","getDataActions","Main","isFavoritePage","isRadioPage","startMain","emptyFavFromSurabox","language","successMain","failRequest","letters","allElementsImams","lettersIndex","getDataFunc","getServer","loading","theme","themeStyle","site_language","allElements","setAllElements","search","setSearch","rewayas","setRewayas","chooseSelect","setChooseSelect","allSections","setAllSections","isCurrent","myAPI","get","then","res","arrayOfLetters","allElementsArrays","arrayOfLettersIndex","allRewayas","allArraysElements","data","reciters","myData","map","letter","filter","element","index","push","e","find","z","rewaya","catch","error","curentIndex","fullElementSections","i","length","speElement","slice","letterSection","sectionElements","clickedImamm","link","Server","show","lang","Math","random","reciter","target","value","options","option","mapStateToProps","state","getData","mapDispatchToProps","dispatch","allEllemnt","server"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Letter from '../../components/letters/letters';\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport axios from 'axios';\r\nimport ImamBoxs from '../../components/imamBoxs/imamBoxs';\r\nimport { HomeStyled } from './homeStyled';\r\nimport { connect } from 'react-redux';\r\nimport Loader from '../../components/Loader/loader';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport * as favoriteActions from '../../store/action/favoriteActions';\r\nimport * as radioActions from '../../store/action/radioActions';\r\nimport * as getDataActions from '../../store/action/getDataActions';\r\n\r\nconst Main = ({ isFavoritePage, isRadioPage, startMain, emptyFavFromSurabox, language, successMain, failRequest, letters, allElementsImams, lettersIndex, getDataFunc, getServer, loading, theme, themeStyle, site_language  }) => {\r\n    const [allElements, setAllElements] = useState([]);\r\n    const [search, setSearch] = useState('');\r\n    const [rewayas, setRewayas] = useState([]);\r\n    const [chooseSelect, setChooseSelect] = useState('select rewaya');\r\n    const [allSections, setAllSections] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let isCurrent = true;\r\n        const myAPI = () => {\r\n            isFavoritePage(false);\r\n            isRadioPage(false);\r\n            startMain();\r\n            emptyFavFromSurabox();\r\n            axios.get(`//mp3quran.net/api/${language.language}`)\r\n            .then(res => {\r\n                if (isCurrent) {\r\n                    const arrayOfLetters = [];\r\n                    const allElementsArrays = [];\r\n                    const arrayOfLettersIndex = [];\r\n                    let allRewayas = [];\r\n                    const allArraysElements = res.data.reciters;\r\n                    const myData = allArraysElements.map(letter => letter.letter);\r\n                    myData.filter((element, index) => element !== myData[index + 1] && arrayOfLetters.push(element));\r\n                    myData.filter((element, index) => element !== myData[index + 1] && arrayOfLettersIndex.push(index));\r\n                    allArraysElements.map(element => allElementsArrays.push(element));\r\n                    setAllElements(allArraysElements);\r\n                    allArraysElements.map(e => {\r\n                        if(!allRewayas.find(z => z === e.rewaya)) {\r\n                            return allRewayas.push(e.rewaya);\r\n                        }\r\n                        return null\r\n                    });\r\n                    setRewayas(allRewayas);\r\n                    successMain(arrayOfLetters, arrayOfLettersIndex, allElementsArrays);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                if (isCurrent) {\r\n                    failRequest(error)\r\n                }\r\n            });\r\n        };\r\n\r\n        myAPI();\r\n\r\n        return () => {\r\n            isCurrent = false\r\n        }\r\n        \r\n    }, [language]);\r\n    \r\n    useEffect(() => {\r\n        let curentIndex = 0;\r\n        let fullElementSections = [];\r\n        if(letters && allElementsImams && lettersIndex) {\r\n            for(let i = 0; i < letters.length; i++) {\r\n                let speElement = allElementsImams.slice(curentIndex , lettersIndex[i] + 1);\r\n                curentIndex= lettersIndex[i] + 1;\r\n                fullElementSections.push({\r\n                    letterSection: letters[i],\r\n                    sectionElements: speElement\r\n                });\r\n            }\r\n        }\r\n        setAllSections(fullElementSections);\r\n    }, [allElementsImams]);\r\n\r\n    const clickedImamm = link => {\r\n        getDataFunc(link);\r\n        getServer(link.Server);\r\n    };\r\n\r\n    let show = <Loader />;\r\n\r\n    if(!loading) {\r\n        show = allElementsImams && (\r\n            <HomeStyled theme={theme} themeStyle={themeStyle} site_lang={language.lang}>\r\n                <div className='main-content-show'>\r\n                    {letters && letters.map(letter => <Letter text={letter} id={`#letter_${letter}`} key={`${letter}${Math.random() * 1000000}`} />) }\r\n                </div>\r\n                <div className='search_select mt-4 mb-4'>\r\n                    <Row>\r\n                        <Col lg='7'>\r\n                            <div className='form-search mb-3 mb-lg-0'>\r\n                                <Form>\r\n                                    <Form.Control type='text' placeholder={`${site_language && site_language.search} ${site_language && site_language.reciter}`} className='rounded-pill search-filed' onChange={e => setSearch(e.target.value)} dir='auto' />\r\n                                </Form>\r\n                            </div>\r\n                        </Col>\r\n                        <Col lg='5'>\r\n                            <div className='form-select'>\r\n                                <Form>\r\n                                    <Form.Group controlId=\"exampleForm.SelectCustom\">\r\n                                        <Form.Control as=\"select\" custom className='select' value={chooseSelect} onChange={e => setChooseSelect(e.target.value)}>\r\n                                        <option value='select rewaya' disabled='disabled'>{`${site_language && site_language.options} ${site_language && site_language.reciters}`}</option>\r\n                                        <option value='all'>{language.lang === 'ar' ? 'الكل' : 'all'}</option>\r\n                                        {rewayas.map(option => <option key={option} value={option}>{option}</option>)}\r\n                                        </Form.Control>\r\n                                    </Form.Group>\r\n                                </Form>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                <div className='show-all-names'>\r\n                    {\r\n                        allElements && allElements.length > 0 && allSections.map((element, index) => {\r\n                            return (\r\n                                <ImamBoxs\r\n                                    key={`${element.letterSection} ${element.letterSection} ${Math.random() * 1000000}`}\r\n                                    letter={element.letterSection}\r\n                                    boxes={element.sectionElements}\r\n                                    search={search}\r\n                                    chooseSelect={chooseSelect}\r\n                                    myIndex={index}\r\n                                    clickedImamm={(data) => clickedImamm(data)}\r\n                                />\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </HomeStyled>\r\n        )\r\n    }\r\n    return show;\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    getData: state.getData.getData,\r\n    loading: state.getData.loading,\r\n    letters: state.getData.letters,\r\n    lettersIndex: state.getData.lettersIndex,\r\n    allElementsImams: state.getData.allElementsImams,\r\n    theme: state.theme.theme,\r\n    themeStyle: state.theme.themeStyle,\r\n    language: state.lang.language,\r\n    site_language: state.lang.site_language\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    startMain: () => dispatch(getDataActions.startMain()),\r\n    successMain: (letters, lettersIndex, allEllemnt) => dispatch(getDataActions.successMain(letters, lettersIndex, allEllemnt)),\r\n    failRequest: () => dispatch(getDataActions.failRequest()),\r\n    getDataFunc: (data) => dispatch(getDataActions.getData(data)),\r\n    getServer: (server) => dispatch(getDataActions.getServer(server)),\r\n    emptyFavFromSurabox: () => dispatch(favoriteActions.emptyFavFromSurabox()),\r\n    isFavoritePage: (value) => dispatch(favoriteActions.isFavoritePage(value)),\r\n    isRadioPage: (value) => dispatch(radioActions.isRadioPage(value))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(Main, axios));"]},"metadata":{},"sourceType":"module"}