{"ast":null,"code":"import _slicedToArray from\"C:/Users/USER/Desktop/HTML/quran_project_2/quran/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useMemo}from'react';import{LogInStyled,EmailStyled,PasswordStyled,RepeatPasswordStyled}from'./signupStyled';import{connect}from'react-redux';import Form from'react-bootstrap/Form';import FormControl from'react-bootstrap/FormControl';import FormText from'react-bootstrap/FormText';import Button from'react-bootstrap/Button';import{Link}from'react-router-dom';import Alert from'react-bootstrap/Alert';import{googleProvider,facebookProvider,auth}from'../../../firebase';import Loading from'../../../components/Loader/loader';import*as authActions from'../../../store/action/authActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=function SignIn(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),repeatPassword=_useState6[0],setRepeatPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),successForm=_useState8[0],setSuccessForm=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),errorMsg=_useState10[0],setErrorMsg=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),emailTouch=_useState12[0],setEmailTouch=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),passwordTouch=_useState14[0],setPasswordlTouch=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),repeatPasswordTouch=_useState16[0],setRepeatPasswordTouch=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),loading=_useState18[0],setLoading=_useState18[1];var ValidateEmail=useMemo(function(){var re=/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(String(email).toLowerCase());},[email]);var Validatepassword=useMemo(function(){return password.length>=6;},[password]);var ValidateRepeatPassword=useMemo(function(){return password.length>0&&repeatPassword.length>0&&password===repeatPassword;},[password,repeatPassword]);useEffect(function(){if(email.length===''&&password.length===''&&repeatPassword.length===''){setSuccessForm(false);}else if(email.length>0&&password.length>0&&repeatPassword.length>0){if(ValidateEmail&&Validatepassword&&ValidateRepeatPassword){setSuccessForm(true);}else{setSuccessForm(false);}}},[ValidateEmail,Validatepassword,ValidateRepeatPassword]);var changeEmailHandler=function changeEmailHandler(e){setEmailTouch(true);setEmail(e.target.value);};var changePasswordHandler=function changePasswordHandler(e){setPasswordlTouch(true);setPassword(e.target.value);};var changeRepeatPasswordHandler=function changeRepeatPasswordHandler(e){setRepeatPasswordTouch(true);setRepeatPassword(e.target.value);};var submitHandler=function submitHandler(e){e.preventDefault();setLoading(true);setErrorMsg('');auth.createUserWithEmailAndPassword(email,password).then(function(userAuth){props.login({name:userAuth.user.displayName,photo:userAuth.user.photoURL});setEmail('');setPassword('');setRepeatPassword('');setEmailTouch(false);setPasswordlTouch(false);setRepeatPasswordTouch(false);setLoading(false);props.history.push('/');}).catch(function(error){setPassword('');setRepeatPassword('');setErrorMsg(error.message);setLoading(false);});};var facebookHandler=function facebookHandler(){setLoading(true);setErrorMsg('');auth.signInWithPopup(facebookProvider).then(function(user){props.login({name:user.user.displayName,photo:user.user.photoURL});setPassword('');setRepeatPassword('');setEmail('');setEmailTouch(false);setPasswordlTouch(false);setRepeatPasswordTouch(false);setLoading(false);props.history.push('/');}).catch(function(error){setPassword('');setRepeatPassword('');setErrorMsg(error.message);setLoading(false);});};var googleHandler=function googleHandler(){setLoading(true);setErrorMsg('');auth.signInWithPopup(googleProvider).then(function(user){props.login({name:user.user.displayName,photo:user.user.photoURL});setEmail('');setPassword('');setRepeatPassword('');setEmailTouch(false);setPasswordlTouch(false);setRepeatPasswordTouch(false);setLoading(false);props.history.push('/');}).catch(function(error){setPassword('');setRepeatPassword('');setErrorMsg(error.message);setLoading(false);});};return/*#__PURE__*/_jsxs(LogInStyled,{themeStyle:props.themeStyle,disabled:successForm,lang:props.lang,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"title text-capitalize mb-3\",children:props.lang==='ar'?'اشتراك':'Sign up'}),errorMsg&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:errorMsg}),/*#__PURE__*/_jsxs(\"div\",{className:\"login_social text-center mb-4\",children:[/*#__PURE__*/_jsx(Button,{onClick:facebookHandler,className:\"social_btn face text-capitalize d-block mb-2 w-100 border-0\",children:\"Facebook\"}),/*#__PURE__*/_jsx(Button,{onClick:googleHandler,className:\"social_btn google text-capitalize d-block mb-3 w-100 border-0\",children:\"Google\"}),/*#__PURE__*/_jsx(\"span\",{className:\"small_message\",children:props.lang==='ar'?'او اشتراك البريد الإلكتروني':'or sign up with Email'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"my_form\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(EmailStyled,{emailValid:ValidateEmail,emailTouch:emailTouch,themeStyle:props.themeStyle,children:/*#__PURE__*/_jsx(FormControl,{type:\"email\",placeholder:props.lang==='ar'?'البريد الإلكتروني':'Email',value:email,onChange:function onChange(e){return changeEmailHandler(e);},dir:\"auto\"})}),/*#__PURE__*/_jsxs(PasswordStyled,{Validatepassword:Validatepassword,passwordTouch:passwordTouch,themeStyle:props.themeStyle,children:[!Validatepassword&&passwordTouch&&/*#__PURE__*/_jsx(FormText,{className:\"error_msg pass text-capitalize mb-1\",children:props.lang==='ar'?'على الأقل 6 خانات':'at leats 6 Characeters'}),/*#__PURE__*/_jsx(FormControl,{type:\"password\",placeholder:props.lang==='ar'?'الرقم السري':'Password',value:password,onChange:function onChange(e){return changePasswordHandler(e);},dir:\"auto\"})]}),/*#__PURE__*/_jsxs(RepeatPasswordStyled,{ValidateRepeatPassword:ValidateRepeatPassword,repeatPasswordTouch:repeatPasswordTouch,themeStyle:props.themeStyle,children:[!ValidateRepeatPassword&&repeatPasswordTouch&&/*#__PURE__*/_jsx(FormText,{className:\"error_msg pass text-capitalize mb-1\",children:props.lang==='ar'?'اعد كلمة السر':'Repeat Password'}),/*#__PURE__*/_jsx(FormControl,{type:\"password\",placeholder:props.lang==='ar'?'اعد كلمة السر':'Repeat Password',value:repeatPassword,onChange:function onChange(e){return changeRepeatPasswordHandler(e);},dir:\"auto\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:!successForm,className:\"submit text-capitalize border-0 mt-4 w-100\",children:loading?/*#__PURE__*/_jsx(Loading,{height:30,width:25,size:15}):'login'})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"have_account mt-5 text-center\",children:props.lang==='ar'?/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0625\\u0630\\u0627 \\u0643\\u0627\\u0646 \\u0644\\u062F\\u064A\\u0643 \\u062D\\u0633\\u0627\\u0628 \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644\"})]}):/*#__PURE__*/_jsxs(\"p\",{children:[\"if you have account \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Log in\"})]})})]});};var mapStateToProps=function mapStateToProps(state){return{themeStyle:state.theme.themeStyle,lang:state.lang.language.lang};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{login:function login(){return dispatch(authActions.login());}};};export default connect(mapStateToProps,mapDispatchToProps)(SignIn);","map":{"version":3,"sources":["C:/Users/USER/Desktop/HTML/quran_project_2/quran/src/containers/auth/signUp/signup.js"],"names":["React","useState","useEffect","useMemo","LogInStyled","EmailStyled","PasswordStyled","RepeatPasswordStyled","connect","Form","FormControl","FormText","Button","Link","Alert","googleProvider","facebookProvider","auth","Loading","authActions","SignIn","props","email","setEmail","password","setPassword","repeatPassword","setRepeatPassword","successForm","setSuccessForm","errorMsg","setErrorMsg","emailTouch","setEmailTouch","passwordTouch","setPasswordlTouch","repeatPasswordTouch","setRepeatPasswordTouch","loading","setLoading","ValidateEmail","re","test","String","toLowerCase","Validatepassword","length","ValidateRepeatPassword","changeEmailHandler","e","target","value","changePasswordHandler","changeRepeatPasswordHandler","submitHandler","preventDefault","createUserWithEmailAndPassword","then","userAuth","login","name","user","displayName","photo","photoURL","history","push","catch","error","message","facebookHandler","signInWithPopup","googleHandler","themeStyle","lang","mapStateToProps","state","theme","language","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react'\r\nimport { LogInStyled, EmailStyled, PasswordStyled, RepeatPasswordStyled } from './signupStyled';\r\nimport { connect } from 'react-redux';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport FormText from 'react-bootstrap/FormText';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport { googleProvider, facebookProvider, auth } from '../../../firebase';\r\nimport Loading from '../../../components/Loader/loader';\r\nimport * as authActions from '../../../store/action/authActions';\r\n\r\nconst SignIn = props => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [repeatPassword, setRepeatPassword] = useState('');\r\n    const [successForm, setSuccessForm] = useState(false);\r\n    const [errorMsg, setErrorMsg] = useState('');\r\n    const [emailTouch, setEmailTouch] = useState(false);\r\n    const [passwordTouch, setPasswordlTouch] = useState(false);\r\n    const [repeatPasswordTouch, setRepeatPasswordTouch] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n\r\n    const ValidateEmail = useMemo(() => {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(String(email).toLowerCase());\r\n    }, [email]);\r\n\r\n    const Validatepassword = useMemo(() => password.length >= 6, [password]);\r\n\r\n    const ValidateRepeatPassword = useMemo(() => password.length > 0 && repeatPassword.length > 0 && password === repeatPassword, [password, repeatPassword]);\r\n\r\n    useEffect(() => {\r\n        if(email.length === '' && password.length === '' && repeatPassword.length === '') {\r\n            setSuccessForm(false);\r\n        } else if(email.length > 0 && password.length > 0 && repeatPassword.length > 0) {\r\n            if(ValidateEmail && Validatepassword && ValidateRepeatPassword) {\r\n                setSuccessForm(true);\r\n            } else {\r\n                setSuccessForm(false);\r\n            }\r\n        }\r\n    }, [ValidateEmail, Validatepassword, ValidateRepeatPassword]);\r\n    \r\n    const changeEmailHandler = (e) => {\r\n        setEmailTouch(true);\r\n        setEmail(e.target.value);\r\n    };\r\n    \r\n    const changePasswordHandler = (e) => {\r\n        setPasswordlTouch(true);\r\n        setPassword(e.target.value);\r\n    }\r\n    \r\n    const changeRepeatPasswordHandler = (e) => {\r\n        setRepeatPasswordTouch(true);\r\n        setRepeatPassword(e.target.value);\r\n    }\r\n    \r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setErrorMsg('');\r\n        auth.createUserWithEmailAndPassword(email, password)\r\n        .then(userAuth => {\r\n            props.login({\r\n                name: userAuth.user.displayName,\r\n                photo: userAuth.user.photoURL\r\n            });\r\n            setEmail('');\r\n            setPassword('');\r\n            setRepeatPassword('');\r\n            setEmailTouch(false);\r\n            setPasswordlTouch(false);\r\n            setRepeatPasswordTouch(false);\r\n            setLoading(false);\r\n            props.history.push('/');\r\n        }).catch(error => {\r\n            setPassword('');\r\n            setRepeatPassword('');\r\n            setErrorMsg(error.message);\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const facebookHandler = () => {\r\n        setLoading(true);\r\n        setErrorMsg('');\r\n        auth.signInWithPopup(facebookProvider)\r\n        .then(user => {\r\n            props.login({\r\n                name: user.user.displayName,\r\n                photo: user.user.photoURL\r\n            });\r\n            setPassword('');\r\n            setRepeatPassword('');\r\n            setEmail('');\r\n            setEmailTouch(false);\r\n            setPasswordlTouch(false);\r\n            setRepeatPasswordTouch(false);\r\n            setLoading(false);\r\n            props.history.push('/');\r\n        }).catch(error => {\r\n            setPassword('');\r\n            setRepeatPassword('');\r\n            setErrorMsg(error.message);\r\n            setLoading(false);\r\n        });\r\n    }\r\n    \r\n    const googleHandler = () => {\r\n        setLoading(true);\r\n        setErrorMsg('');\r\n        auth.signInWithPopup(googleProvider)\r\n        .then(user => {\r\n            props.login({\r\n                name: user.user.displayName,\r\n                photo: user.user.photoURL\r\n            });\r\n            setEmail('');\r\n            setPassword('');\r\n            setRepeatPassword('');\r\n            setEmailTouch(false);\r\n            setPasswordlTouch(false);\r\n            setRepeatPasswordTouch(false);\r\n            setLoading(false);\r\n            props.history.push('/');\r\n        }).catch(error => {\r\n            setPassword('');\r\n            setRepeatPassword('');\r\n            setErrorMsg(error.message);\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <LogInStyled themeStyle={props.themeStyle} disabled={successForm} lang={props.lang}>\r\n            <h4 className='title text-capitalize mb-3'>{props.lang === 'ar' ? 'اشتراك' : 'Sign up'}</h4>\r\n            {errorMsg && <Alert variant='danger'>{errorMsg}</Alert>}\r\n            <div className='login_social text-center mb-4'>\r\n                <Button onClick={facebookHandler} className='social_btn face text-capitalize d-block mb-2 w-100 border-0'>Facebook</Button>\r\n                <Button onClick={googleHandler} className='social_btn google text-capitalize d-block mb-3 w-100 border-0'>Google</Button>\r\n                <span className='small_message'>{props.lang === 'ar' ? 'او اشتراك البريد الإلكتروني' : 'or sign up with Email'}</span>\r\n            </div>\r\n            <div className='my_form'>\r\n                <Form onSubmit={submitHandler}>\r\n                    <EmailStyled emailValid={ValidateEmail} emailTouch={emailTouch} themeStyle={props.themeStyle}>\r\n                        <FormControl type='email' placeholder={props.lang === 'ar' ? 'البريد الإلكتروني' : 'Email'} value={email} onChange={e => changeEmailHandler(e)} dir='auto' />\r\n                    </EmailStyled>\r\n                    <PasswordStyled Validatepassword={Validatepassword} passwordTouch={passwordTouch} themeStyle={props.themeStyle}>\r\n                        {!Validatepassword && passwordTouch && <FormText className='error_msg pass text-capitalize mb-1'>{props.lang === 'ar' ? 'على الأقل 6 خانات' : 'at leats 6 Characeters'}</FormText>}\r\n                        <FormControl type='password' placeholder={props.lang === 'ar' ? 'الرقم السري' : 'Password'} value={password} onChange={e => changePasswordHandler(e)}  dir='auto' />\r\n                    </PasswordStyled>\r\n                    <RepeatPasswordStyled ValidateRepeatPassword={ValidateRepeatPassword} repeatPasswordTouch={repeatPasswordTouch} themeStyle={props.themeStyle}>\r\n                        {!ValidateRepeatPassword && repeatPasswordTouch && <FormText className='error_msg pass text-capitalize mb-1'>{props.lang === 'ar' ? 'اعد كلمة السر' : 'Repeat Password'}</FormText>}\r\n                        <FormControl type='password' placeholder={props.lang === 'ar' ? 'اعد كلمة السر' : 'Repeat Password'}  value={repeatPassword} onChange={e => changeRepeatPasswordHandler(e)}  dir='auto' />\r\n                    </RepeatPasswordStyled>\r\n                    <Button type='submit' disabled={!successForm} className='submit text-capitalize border-0 mt-4 w-100'>\r\n                        {loading ? <Loading height={30} width={25} size={15} /> : 'login'}\r\n                    </Button>\r\n                </Form>\r\n            </div>\r\n            <div className='have_account mt-5 text-center'>\r\n                {\r\n                    props.lang === 'ar' \r\n                    ? <p>إذا كان لديك حساب <Link to='/login'>تسجيل الدخول</Link></p>\r\n                    : <p>if you have account <Link to='/login'>Log in</Link></p>\r\n                }\r\n            </div>\r\n        </LogInStyled>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    themeStyle: state.theme.themeStyle,\r\n    lang: state.lang.language.lang\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    login: () => dispatch(authActions.login())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);"]},"metadata":{},"sourceType":"module"}