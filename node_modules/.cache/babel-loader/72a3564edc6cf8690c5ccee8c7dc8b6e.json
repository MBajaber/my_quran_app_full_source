{"ast":null,"code":"import _slicedToArray from\"C:/Users/USER/Desktop/HTML/quran_project_2/quran/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{RadioStyled}from'./RadiosStyle';import{connect}from'react-redux';import axios from'axios';import Form from'react-bootstrap/Form';import withErrorHandler from'../../hoc/withErrorHandler/withErrorHandler';import RadioList from'./radioList';import Loading from'../../components/Loader/loader';import*as favoriteActions from'../../store/action/favoriteActions';import*as radioActions from'../../store/action/radioActions';import*as getDataActions from'../../store/action/getDataActions';import*as settingActions from'../../store/action/settingActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Radios=function Radios(_ref){var isFavoritePage=_ref.isFavoritePage,isRadioPage=_ref.isRadioPage,language=_ref.language,suraLinkFunc=_ref.suraLinkFunc,showPlayer=_ref.showPlayer,themeStyle=_ref.themeStyle,theme=_ref.theme,site_language=_ref.site_language,suraLink=_ref.suraLink,startRadioRequest=_ref.startRadioRequest,stopRadioRequest=_ref.stopRadioRequest,loading=_ref.loading;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),radioLists=_useState2[0],setRadioLists=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),copyRadioLists=_useState4[0],setCopyRadioLists=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];useEffect(function(){isFavoritePage(true);isRadioPage(true);window.scrollTo(0,0);},[]);useEffect(function(){var isCurrent=true;var api=function api(){startRadioRequest();axios.get(\"http://mp3quran.net/api/2/radio_\".concat(language.lang,\".json\")).then(function(res){if(isCurrent){setRadioLists(res.data.Radios);setCopyRadioLists(res.data.Radios);stopRadioRequest();}}).catch(function(error){if(isCurrent){stopRadioRequest();return error;}});};api();return function(){isCurrent=false;};},[language]);useEffect(function(){var favArray=[];radioLists.map(function(radiosList){if(search===''){return favArray.push(radiosList);}else if(radiosList.Name.toLocaleLowerCase().includes(search.toLocaleLowerCase())){return favArray.push(radiosList);}return null;});setCopyRadioLists(favArray);},[search]);var clickedHandler=function clickedHandler(link){suraLinkFunc(link.url);showPlayer();};var data=/*#__PURE__*/_jsx(Loading,{});data=!loading&&/*#__PURE__*/_jsxs(RadioStyled,{language:language.lang,themeStyle:themeStyle,theme:theme,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title_name mb-4\",children:site_language&&site_language.quran_radio}),/*#__PURE__*/_jsx(\"div\",{className:\"form-search mb-5 mb-lg-0\",children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"\".concat(site_language&&site_language.search,\" \").concat(site_language&&site_language.reciter),className:\"rounded-pill search-filed\",onChange:function onChange(e){return setSearch(e.target.value);},dir:\"auto\"})})}),/*#__PURE__*/_jsx(\"ul\",{className:\"radios_lists\",children:copyRadioLists&&copyRadioLists.length>0&&copyRadioLists.map(function(radio){return/*#__PURE__*/_jsx(RadioList,{url:radio.URL,name:radio.Name,themeStyle:themeStyle.all.yellowColor,clicked:function clicked(link){return clickedHandler(link);},sameLink:radio.URL===suraLink},radio.URL);})})]});return data;};var mapStateToProps=function mapStateToProps(state){return{site_language:state.lang.site_language,language:state.lang.language,theme:state.theme.theme,themeStyle:state.theme.themeStyle,suraLink:state.getData.suraLink,loading:state.getData.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{isFavoritePage:function isFavoritePage(value){return dispatch(favoriteActions.isFavoritePage(value));},showPlayer:function showPlayer(){return dispatch(settingActions.showPlayer());},isRadioPage:function isRadioPage(value){return dispatch(radioActions.isRadioPage(value));},suraLinkFunc:function suraLinkFunc(link){return dispatch(getDataActions.suraLink(link));},startRadioRequest:function startRadioRequest(){return dispatch(radioActions.startRadioRequest());},stopRadioRequest:function stopRadioRequest(){return dispatch(radioActions.stopRadioRequest());}};};export default connect(mapStateToProps,mapDispatchToProps)(withErrorHandler(Radios,axios));","map":{"version":3,"sources":["C:/Users/USER/Desktop/HTML/quran_project_2/quran/src/containers/Radios/index.js"],"names":["React","useState","useEffect","RadioStyled","connect","axios","Form","withErrorHandler","RadioList","Loading","favoriteActions","radioActions","getDataActions","settingActions","Radios","isFavoritePage","isRadioPage","language","suraLinkFunc","showPlayer","themeStyle","theme","site_language","suraLink","startRadioRequest","stopRadioRequest","loading","radioLists","setRadioLists","copyRadioLists","setCopyRadioLists","search","setSearch","window","scrollTo","isCurrent","api","get","lang","then","res","data","catch","error","favArray","map","radiosList","push","Name","toLocaleLowerCase","includes","clickedHandler","link","url","quran_radio","reciter","e","target","value","length","radio","URL","all","yellowColor","mapStateToProps","state","getData","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { RadioStyled } from './RadiosStyle';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport Form from 'react-bootstrap/Form';\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport RadioList from './radioList';\r\nimport Loading from '../../components/Loader/loader';\r\nimport * as favoriteActions from '../../store/action/favoriteActions';\r\nimport * as radioActions from '../../store/action/radioActions';\r\nimport * as getDataActions from '../../store/action/getDataActions';\r\nimport * as settingActions from '../../store/action/settingActions';\r\n\r\nconst Radios = ({ isFavoritePage, isRadioPage, language, suraLinkFunc, showPlayer, themeStyle, theme, site_language, suraLink, startRadioRequest, stopRadioRequest, loading}) => {\r\n\r\n    const [radioLists, setRadioLists] = useState([]);\r\n    const [copyRadioLists, setCopyRadioLists] = useState();\r\n    const [search, setSearch] = useState('');\r\n\r\n    useEffect(() => {\r\n        isFavoritePage(true);\r\n        isRadioPage(true);\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        let isCurrent = true;\r\n        const api = () => {\r\n            startRadioRequest();\r\n            axios.get(`http://mp3quran.net/api/2/radio_${language.lang}.json`)\r\n            .then(res => {\r\n                if (isCurrent) {\r\n                    setRadioLists(res.data.Radios);\r\n                    setCopyRadioLists(res.data.Radios);\r\n                    stopRadioRequest();\r\n                }\r\n            })\r\n            .catch(error => {\r\n                if (isCurrent) {\r\n                    stopRadioRequest();\r\n                    return error;\r\n                }\r\n            });\r\n        }\r\n\r\n        api();\r\n\r\n        return () => {\r\n            isCurrent = false;\r\n        };\r\n    }, [language]);\r\n\r\n    useEffect(() => {\r\n        let favArray = [];\r\n        radioLists.map(radiosList => {\r\n            if (search === '') {\r\n                return favArray.push(radiosList);\r\n\r\n            } else if (radiosList.Name.toLocaleLowerCase().includes(search.toLocaleLowerCase())) {\r\n                return favArray.push(radiosList)\r\n            }\r\n            return null\r\n        });\r\n        setCopyRadioLists(favArray);\r\n    }, [search]);\r\n\r\n    const clickedHandler = (link) => {\r\n        suraLinkFunc(link.url);\r\n        showPlayer();\r\n    }\r\n\r\n    let data = <Loading />\r\n\r\n    data = !loading && (\r\n        <RadioStyled language={language.lang} themeStyle={themeStyle} theme={theme}>\r\n            <h2 className='title_name mb-4'>{site_language && site_language.quran_radio}</h2>\r\n            <div className='form-search mb-5 mb-lg-0'>\r\n                <Form>\r\n                    <Form.Control type='text' placeholder={`${site_language && site_language.search} ${site_language && site_language.reciter}`} className='rounded-pill search-filed' onChange={e => setSearch(e.target.value)} dir='auto' />\r\n                </Form>\r\n            </div>\r\n            <ul className='radios_lists'>\r\n                {\r\n                    copyRadioLists && copyRadioLists.length > 0 && copyRadioLists.map(radio => {\r\n                        return (\r\n                            <RadioList\r\n                                key={radio.URL}\r\n                                url={radio.URL}\r\n                                name={radio.Name}\r\n                                themeStyle={themeStyle.all.yellowColor}\r\n                                clicked={(link) => clickedHandler(link)}\r\n                                sameLink={radio.URL === suraLink}\r\n                            />\r\n                        )\r\n                    })\r\n                }\r\n            </ul>\r\n        </RadioStyled>\r\n    );\r\n\r\n    return data;\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    site_language: state.lang.site_language,\r\n    language: state.lang.language,\r\n    theme: state.theme.theme,\r\n    themeStyle: state.theme.themeStyle,\r\n    suraLink: state.getData.suraLink,\r\n    loading: state.getData.loading\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    isFavoritePage: (value) => dispatch(favoriteActions.isFavoritePage(value)),\r\n    showPlayer: () => dispatch(settingActions.showPlayer()),\r\n    isRadioPage: (value) => dispatch(radioActions.isRadioPage(value)),\r\n    suraLinkFunc: (link) => dispatch(getDataActions.suraLink(link)),\r\n    startRadioRequest: () => dispatch(radioActions.startRadioRequest()),\r\n    stopRadioRequest: () => dispatch(radioActions.stopRadioRequest())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(Radios, axios));"]},"metadata":{},"sourceType":"module"}