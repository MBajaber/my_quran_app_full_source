{"ast":null,"code":"import _slicedToArray from\"C:/Users/USER/Desktop/HTML/quran_project_2/quran/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useMemo}from'react';import{LogInStyled,EmailStyled,PasswordStyled}from'./logInStyled';import{connect}from'react-redux';import Form from'react-bootstrap/Form';import FormControl from'react-bootstrap/FormControl';import FormText from'react-bootstrap/FormText';import Button from'react-bootstrap/Button';import{Link}from'react-router-dom';import Alert from'react-bootstrap/Alert';import{googleProvider,facebookProvider,auth}from'../../../firebase';import Loading from'../../../components/Loader/loader';import*as authActions from'../../../store/action/authActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errorMsg=_useState6[0],setErrorMsg=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),emailTouch=_useState8[0],setEmailTouch=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),passwordTouch=_useState10[0],setPasswordlTouch=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),successForm=_useState12[0],setSuccessForm=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),loading=_useState14[0],setLoading=_useState14[1];var ValidateEmail=useMemo(function(){var re=/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(String(email).toLowerCase());},[email]);var Validatepassword=useMemo(function(){return password.length>=6;},[password]);useEffect(function(){if(email.length===''&&password.length===''){setSuccessForm(false);}else if(email.length>0&&password.length>0){if(ValidateEmail&&Validatepassword){setSuccessForm(true);}else{setSuccessForm(false);}}},[ValidateEmail,Validatepassword]);var changeEmailHandler=function changeEmailHandler(e){setEmailTouch(true);setEmail(e.target.value);};var changePasswordHandler=function changePasswordHandler(e){setPasswordlTouch(true);setPassword(e.target.value);};var submitHandler=function submitHandler(e){e.preventDefault();setLoading(true);setErrorMsg('');auth.signInWithEmailAndPassword(email,password).then(function(userAuth){props.login({name:userAuth.user.displayName,photo:userAuth.user.photoURL});setEmail('');setPassword('');setEmailTouch(false);setPasswordlTouch(false);setLoading(false);props.history.push('/');}).catch(function(error){setPassword('');setErrorMsg(error.message);setLoading(false);});};var facebookHandler=function facebookHandler(){setLoading(true);setErrorMsg('');auth.signInWithPopup(facebookProvider).then(function(user){props.login({name:user.user.displayName,photo:user.user.photoURL});setEmail('');setPassword('');setEmailTouch(false);setPasswordlTouch(false);setLoading(false);props.history.push('/');}).catch(function(error){setPassword('');setErrorMsg(error.message);setLoading(false);});};var googleHandler=function googleHandler(){setLoading(true);setErrorMsg('');auth.signInWithPopup(googleProvider).then(function(user){props.login({name:user.user.displayName,photo:user.user.photoURL});setEmail('');setPassword('');setEmailTouch(false);setPasswordlTouch(false);setLoading(false);props.history.push('/');}).catch(function(error){setPassword('');setErrorMsg(error.message);setLoading(false);});};return/*#__PURE__*/_jsxs(LogInStyled,{themeStyle:props.themeStyle,disabled:successForm,lang:props.lang,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"title text-capitalize mb-3\",children:props.lang==='ar'?'تسجيل الدخول':'Login'}),errorMsg&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:errorMsg}),/*#__PURE__*/_jsxs(\"div\",{className:\"login_social text-center mb-4\",children:[/*#__PURE__*/_jsx(Button,{onClick:facebookHandler,className:\"social_btn face text-capitalize d-block mb-2 w-100 border-0\",children:\"Facebook\"}),/*#__PURE__*/_jsx(Button,{onClick:googleHandler,className:\"social_btn google text-capitalize d-block mb-3 w-100 border-0\",children:\"Google\"}),/*#__PURE__*/_jsx(\"span\",{className:\"small_message\",children:props.lang==='ar'?'أو تسجيل الدخول باستخدام':'or login with'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"my_form\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(EmailStyled,{emailValid:ValidateEmail,emailTouch:emailTouch,themeStyle:props.themeStyle,children:/*#__PURE__*/_jsx(FormControl,{type:\"email\",placeholder:props.lang==='ar'?'البريد الإلكتروني':'Email',value:email,onChange:function onChange(e){return changeEmailHandler(e);},dir:\"auto\"})}),/*#__PURE__*/_jsxs(PasswordStyled,{Validatepassword:Validatepassword,passwordTouch:passwordTouch,themeStyle:props.themeStyle,children:[!Validatepassword&&passwordTouch&&/*#__PURE__*/_jsx(FormText,{className:\"error_msg pass text-capitalize mb-1\",children:props.lang==='ar'?'على الأقل 6 خانات':'at leats 6 Characeters'}),/*#__PURE__*/_jsx(FormControl,{type:\"password\",placeholder:props.lang==='ar'?'الرقم السري':'Password',value:password,onChange:function onChange(e){return changePasswordHandler(e);},dir:\"auto\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:!successForm,className:\"submit text-capitalize border-0 mt-4 w-100\",children:loading?/*#__PURE__*/_jsx(Loading,{height:30,width:25,size:15}):'login'})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"dont_have_account mt-5 text-center\",children:props.lang==='ar'?/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0625\\u0630\\u0627 \\u0644\\u0645 \\u064A\\u0643\\u0646 \\u0644\\u062F\\u064A\\u0643 \\u062D\\u0633\\u0627\\u0628 \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"\\u0627\\u0634\\u062A\\u0631\\u0627\\u0643\"})]}):/*#__PURE__*/_jsxs(\"p\",{children:[\"if you dont't have account \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign up\"})]})})]});};var mapStateToProps=function mapStateToProps(state){return{themeStyle:state.theme.themeStyle,lang:state.lang.language.lang};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{login:function login(){return dispatch(authActions.login());}};};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/Users/USER/Desktop/HTML/quran_project_2/quran/src/containers/auth/logIn/login.js"],"names":["React","useState","useEffect","useMemo","LogInStyled","EmailStyled","PasswordStyled","connect","Form","FormControl","FormText","Button","Link","Alert","googleProvider","facebookProvider","auth","Loading","authActions","Login","props","email","setEmail","password","setPassword","errorMsg","setErrorMsg","emailTouch","setEmailTouch","passwordTouch","setPasswordlTouch","successForm","setSuccessForm","loading","setLoading","ValidateEmail","re","test","String","toLowerCase","Validatepassword","length","changeEmailHandler","e","target","value","changePasswordHandler","submitHandler","preventDefault","signInWithEmailAndPassword","then","userAuth","login","name","user","displayName","photo","photoURL","history","push","catch","error","message","facebookHandler","signInWithPopup","googleHandler","themeStyle","lang","mapStateToProps","state","theme","language","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react'\r\nimport { LogInStyled, EmailStyled, PasswordStyled } from './logInStyled';\r\nimport { connect } from 'react-redux';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport FormText from 'react-bootstrap/FormText';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport { googleProvider, facebookProvider, auth } from '../../../firebase';\r\nimport Loading from '../../../components/Loader/loader';\r\nimport * as authActions from '../../../store/action/authActions';\r\n\r\nconst Login = props => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [errorMsg, setErrorMsg] = useState('');\r\n    const [emailTouch, setEmailTouch] = useState(false);\r\n    const [passwordTouch, setPasswordlTouch] = useState(false);\r\n    const [successForm, setSuccessForm] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const ValidateEmail = useMemo(() => {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(String(email).toLowerCase());\r\n    }, [email]);\r\n\r\n    const Validatepassword = useMemo(() => password.length >= 6, [password]);\r\n\r\n    useEffect(() => {\r\n        if(email.length === '' && password.length === '') {\r\n            setSuccessForm(false);\r\n        } else if(email.length > 0 && password.length > 0) {\r\n            if(ValidateEmail && Validatepassword) {\r\n                setSuccessForm(true);\r\n            } else {\r\n                setSuccessForm(false);\r\n            }\r\n        }\r\n    }, [ValidateEmail, Validatepassword]);\r\n\r\n    const changeEmailHandler = (e) => {\r\n        setEmailTouch(true);\r\n        setEmail(e.target.value);\r\n    }\r\n    \r\n    const changePasswordHandler = (e) => {\r\n        setPasswordlTouch(true);\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setErrorMsg('');\r\n        auth.signInWithEmailAndPassword(email, password)\r\n        .then(userAuth => {\r\n            props.login({\r\n                name: userAuth.user.displayName,\r\n                photo: userAuth.user.photoURL\r\n            });\r\n            setEmail('');\r\n            setPassword('');\r\n            setEmailTouch(false);\r\n            setPasswordlTouch(false);\r\n            setLoading(false);\r\n            props.history.push('/');\r\n        }).catch(error => {\r\n            setPassword('');\r\n            setErrorMsg(error.message);\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    const facebookHandler = () => {\r\n        setLoading(true);\r\n        setErrorMsg('');\r\n        auth.signInWithPopup(facebookProvider)\r\n        .then(user => {\r\n            props.login({\r\n                name: user.user.displayName,\r\n                photo: user.user.photoURL\r\n            });\r\n            setEmail('');\r\n            setPassword('');\r\n            setEmailTouch(false);\r\n            setPasswordlTouch(false);\r\n            setLoading(false);\r\n            props.history.push('/');\r\n        }).catch(error => {\r\n            setPassword('');\r\n            setErrorMsg(error.message);\r\n            setLoading(false);\r\n        });\r\n    }\r\n    \r\n    const googleHandler = () => {\r\n        setLoading(true);\r\n        setErrorMsg('');\r\n        auth.signInWithPopup(googleProvider)\r\n        .then(user => {\r\n            props.login({\r\n                name: user.user.displayName,\r\n                photo: user.user.photoURL\r\n            });\r\n            setEmail('');\r\n            setPassword('');\r\n            setEmailTouch(false);\r\n            setPasswordlTouch(false);\r\n            setLoading(false);\r\n            props.history.push('/');\r\n        }).catch(error => {\r\n            setPassword('');\r\n            setErrorMsg(error.message);\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <LogInStyled themeStyle={props.themeStyle} disabled={successForm} lang={props.lang}>\r\n            <h4 className='title text-capitalize mb-3'>{props.lang === 'ar' ? 'تسجيل الدخول' : 'Login' }</h4>\r\n            {errorMsg && <Alert variant='danger'>{errorMsg}</Alert>}\r\n            <div className='login_social text-center mb-4'>\r\n                <Button onClick={facebookHandler} className='social_btn face text-capitalize d-block mb-2 w-100 border-0'>Facebook</Button>\r\n                <Button onClick={googleHandler} className='social_btn google text-capitalize d-block mb-3 w-100 border-0'>Google</Button>\r\n                <span className='small_message'>{props.lang === 'ar' ? 'أو تسجيل الدخول باستخدام' : 'or login with' }</span>\r\n            </div>\r\n            <div className='my_form'>\r\n                <Form onSubmit={submitHandler}>\r\n                    <EmailStyled emailValid={ValidateEmail} emailTouch={emailTouch} themeStyle={props.themeStyle}>\r\n                        <FormControl type='email' placeholder={props.lang === 'ar' ? 'البريد الإلكتروني' : 'Email'} value={email} onChange={e => changeEmailHandler(e)} dir='auto' />\r\n                    </EmailStyled>\r\n                    <PasswordStyled Validatepassword={Validatepassword} passwordTouch={passwordTouch} themeStyle={props.themeStyle}>\r\n                    {!Validatepassword && passwordTouch && <FormText className='error_msg pass text-capitalize mb-1'>{props.lang === 'ar' ? 'على الأقل 6 خانات' : 'at leats 6 Characeters'}</FormText>}\r\n                        <FormControl type='password' placeholder={props.lang === 'ar' ? 'الرقم السري' : 'Password'} value={password} onChange={e => changePasswordHandler(e)} dir='auto' />\r\n                    </PasswordStyled>\r\n                    <Button type='submit' disabled={!successForm} className='submit text-capitalize border-0 mt-4 w-100'>\r\n                        {loading ? <Loading height={30} width={25} size={15} /> : 'login'}\r\n                    </Button>\r\n                </Form>\r\n            </div>\r\n            <div className='dont_have_account mt-5 text-center'>\r\n            {\r\n                props.lang === 'ar' \r\n                ? <p>إذا لم يكن لديك حساب <Link to='/signup'>اشتراك</Link></p>\r\n                : <p>if you dont't have account <Link to='/signup'>Sign up</Link></p>\r\n            }\r\n            </div>\r\n        </LogInStyled>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    themeStyle: state.theme.themeStyle,\r\n    lang: state.lang.language.lang\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    login: () => dispatch(authActions.login())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);"]},"metadata":{},"sourceType":"module"}