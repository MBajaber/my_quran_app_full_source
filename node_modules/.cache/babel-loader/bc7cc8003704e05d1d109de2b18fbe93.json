{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/Desktop/HTML/quran_project_2/quran/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/USER/Desktop/HTML/quran_project_2/quran/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/USER/Desktop/HTML/quran_project_2/quran/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/USER/Desktop/HTML/quran_project_2/quran/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/USER/Desktop/HTML/quran_project_2/quran/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import Modal from'react-bootstrap/Modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WithErrorHandler=function WithErrorHandler(Wrapper,axios){return/*#__PURE__*/function(_Component){_inherits(_class2,_Component);var _super=_createSuper(_class2);function _class2(){var _this;_classCallCheck(this,_class2);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={error:null};return _this;}_createClass(_class2,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var myReq=axios.interceptors.request.use(function(res){_this2.setState({error:null});return res;});var myRes=axios.interceptors.response.use(function(res){return res;},function(error){_this2.setState({error:error});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){axios.interceptors.request.eject(this.myReq);axios.interceptors.response.eject(this.myRes);}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(Modal,{size:\"sm\",show:this.state.error,onHide:function onHide(){return _this3.setState({error:null});},style:{top:'30%'},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-sm\",children:\"Server Connection\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:this.state.error&&this.state.error.message})]}),/*#__PURE__*/_jsx(Wrapper,_objectSpread({},this.props))]});}}]);return _class2;}(Component);};export default WithErrorHandler;","map":{"version":3,"sources":["C:/Users/USER/Desktop/HTML/quran_project_2/quran/src/hoc/withErrorHandler/withErrorHandler.js"],"names":["React","Component","Fragment","Modal","WithErrorHandler","Wrapper","axios","state","error","myReq","interceptors","request","use","res","setState","myRes","response","eject","top","message","props"],"mappings":"kzBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,C,wFAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,OAAD,CAAUC,KAAV,CAAoB,CACzC,oUACIC,KADJ,CACY,CAACC,KAAK,CAAE,IAAR,CADZ,oEAGI,4BAAoB,iBAChB,GAAMC,CAAAA,KAAK,CAAGH,KAAK,CAACI,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,SAAAC,GAAG,CAAI,CAChD,MAAI,CAACC,QAAL,CAAc,CAACN,KAAK,CAAE,IAAR,CAAd,EACA,MAAOK,CAAAA,GAAP,CACH,CAHa,CAAd,CAIA,GAAME,CAAAA,KAAK,CAAGT,KAAK,CAACI,YAAN,CAAmBM,QAAnB,CAA4BJ,GAA5B,CAAgC,SAAAC,GAAG,QAAIA,CAAAA,GAAJ,EAAnC,CAA4C,SAAAL,KAAK,CAAI,CAC/D,MAAI,CAACM,QAAL,CAAc,CAACN,KAAK,CAAEA,KAAR,CAAd,EACH,CAFa,CAAd,CAGH,CAXL,oCAaI,+BAAuB,CACnBF,KAAK,CAACI,YAAN,CAAmBC,OAAnB,CAA2BM,KAA3B,CAAiC,KAAKR,KAAtC,EACAH,KAAK,CAACI,YAAN,CAAmBM,QAAnB,CAA4BC,KAA5B,CAAkC,KAAKF,KAAvC,EACH,CAhBL,sBAkBI,iBAAS,iBACL,mBACI,MAAC,QAAD,yBACI,MAAC,KAAD,EACI,IAAI,CAAC,IADT,CAEI,IAAI,CAAE,KAAKR,KAAL,CAAWC,KAFrB,CAGI,MAAM,CAAE,wBAAM,CAAA,MAAI,CAACM,QAAL,CAAc,CAACN,KAAK,CAAE,IAAR,CAAd,CAAN,EAHZ,CAII,KAAK,CAAE,CAACU,GAAG,CAAE,KAAN,CAJX,CAKI,kBAAgB,8BALpB,wBAMI,KAAC,KAAD,CAAO,MAAP,EAAc,WAAW,KAAzB,uBACI,KAAC,KAAD,CAAO,KAAP,EAAa,EAAE,CAAC,8BAAhB,+BADJ,EANJ,cAWI,KAAC,KAAD,CAAO,IAAP,WACK,KAAKX,KAAL,CAAWC,KAAX,EAAoB,KAAKD,KAAL,CAAWC,KAAX,CAAiBW,OAD1C,EAXJ,GADJ,cAgBI,KAAC,OAAD,kBAAa,KAAKC,KAAlB,EAhBJ,GADJ,CAoBH,CAvCL,qBAAqBnB,SAArB,EAyCH,CA1CD,CA4CA,cAAeG,CAAAA,gBAAf","sourcesContent":["import React, {Component, Fragment} from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nconst WithErrorHandler = (Wrapper, axios) => {\r\n    return class extends Component {\r\n        state = {error: null}\r\n        \r\n        componentDidMount() {\r\n            const myReq = axios.interceptors.request.use(res => {\r\n                this.setState({error: null});\r\n                return res;\r\n            });\r\n            const myRes = axios.interceptors.response.use(res => res, error => {\r\n                this.setState({error: error});\r\n            });\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            axios.interceptors.request.eject(this.myReq);\r\n            axios.interceptors.response.eject(this.myRes);\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <Fragment>\r\n                    <Modal\r\n                        size=\"sm\"\r\n                        show={this.state.error}\r\n                        onHide={() => this.setState({error: null})}\r\n                        style={{top: '30%'}}\r\n                        aria-labelledby=\"example-modal-sizes-title-sm\" >\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title id=\"example-modal-sizes-title-sm\">\r\n                                Server Connection\r\n                            </Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            {this.state.error && this.state.error.message}\r\n                        </Modal.Body>\r\n                    </Modal>\r\n                    <Wrapper {...this.props} />\r\n                </Fragment>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default WithErrorHandler;"]},"metadata":{},"sourceType":"module"}